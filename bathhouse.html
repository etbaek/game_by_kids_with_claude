<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bathhouse</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            user-select: none;
        }

        body {
            background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
        }

        .nav-btn {
            position: fixed;
            top: 15px;
            right: 15px;
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.5);
            border: none;
            border-radius: 25px;
            color: #333;
            font-size: 14px;
            cursor: pointer;
            text-decoration: none;
            z-index: 100;
        }

        .game-header {
            position: fixed;
            top: 15px;
            left: 15px;
            display: flex;
            gap: 15px;
            z-index: 100;
        }

        .stat-box {
            background: rgba(255, 255, 255, 0.8);
            padding: 10px 20px;
            border-radius: 15px;
            color: #333;
            font-size: 16px;
            font-weight: bold;
        }

        .game-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 80px 20px 20px;
            width: 100%;
            max-width: 500px;
        }

        .bathhouse {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }

        .bath {
            width: 140px;
            height: 180px;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 15px;
            cursor: pointer;
            transition: all 0.2s;
            border: 5px solid;
        }

        .bath:active {
            transform: scale(0.95);
        }

        .bath.women {
            background: linear-gradient(135deg, #fce7f3, #fbcfe8);
            border-color: #ec4899;
        }

        .bath.men {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border-color: #3b82f6;
        }

        .bath-label {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .bath.women .bath-label { color: #db2777; }
        .bath.men .bath-label { color: #2563eb; }

        .bath-icon {
            font-size: 50px;
            margin-bottom: 10px;
        }

        .bath-door {
            width: 60px;
            height: 40px;
            background: #8b4513;
            border-radius: 5px 5px 0 0;
            position: relative;
        }

        .bath-door::after {
            content: 'ğŸšª';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 25px;
        }

        .waiting-area {
            background: rgba(255, 255, 255, 0.8);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            text-align: center;
            min-height: 150px;
            width: 100%;
        }

        .waiting-label {
            font-size: 18px;
            color: #666;
            margin-bottom: 15px;
        }

        .current-person {
            font-size: 80px;
            margin-bottom: 10px;
            animation: personBounce 1s infinite ease-in-out;
        }

        @keyframes personBounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .person-type {
            font-size: 20px;
            font-weight: bold;
        }

        .person-type.woman { color: #db2777; }
        .person-type.man { color: #2563eb; }

        .guard-area {
            position: fixed;
            bottom: 20px;
            left: 20px;
            display: flex;
            align-items: flex-end;
            gap: 10px;
        }

        .guard {
            font-size: 60px;
        }

        .guard-speech {
            background: white;
            padding: 10px 15px;
            border-radius: 15px;
            border: 2px solid #333;
            font-size: 14px;
            max-width: 150px;
            position: relative;
        }

        .guard-speech::before {
            content: '';
            position: absolute;
            left: -10px;
            bottom: 10px;
            border: 8px solid transparent;
            border-right-color: white;
        }

        .result-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 30px 50px;
            border-radius: 20px;
            text-align: center;
            z-index: 200;
            display: none;
        }

        .result-popup.show {
            display: block;
            animation: popIn 0.3s ease-out;
        }

        @keyframes popIn {
            from { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
            to { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }

        .result-popup.correct {
            background: linear-gradient(135deg, #dcfce7, #bbf7d0);
            border: 4px solid #22c55e;
        }

        .result-popup.wrong {
            background: linear-gradient(135deg, #fee2e2, #fecaca);
            border: 4px solid #ef4444;
        }

        .result-icon {
            font-size: 60px;
            margin-bottom: 10px;
        }

        .result-text {
            font-size: 24px;
            font-weight: bold;
        }

        .result-popup.correct .result-text { color: #16a34a; }
        .result-popup.wrong .result-text { color: #dc2626; }

        .start-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 200;
        }

        .start-screen.hide {
            display: none;
        }

        .title {
            font-size: 42px;
            color: #0369a1;
            margin-bottom: 10px;
        }

        .subtitle {
            font-size: 18px;
            color: #666;
            margin-bottom: 30px;
        }

        .preview {
            font-size: 50px;
            margin-bottom: 30px;
        }

        .start-btn {
            padding: 15px 50px;
            font-size: 22px;
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            border: none;
            border-radius: 30px;
            color: white;
            cursor: pointer;
        }

        .instructions {
            color: #666;
            font-size: 14px;
            margin-top: 30px;
            text-align: center;
            line-height: 1.8;
        }

        .instructions .pink { color: #db2777; }
        .instructions .blue { color: #2563eb; }

        .game-over-screen {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 200;
        }

        .game-over-screen.show {
            display: flex;
        }

        .game-over-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .game-over-title {
            font-size: 36px;
            color: #ef4444;
            margin-bottom: 15px;
        }

        .game-over-score {
            font-size: 24px;
            color: #ffd700;
            margin-bottom: 30px;
        }

        .restart-btn {
            padding: 15px 40px;
            font-size: 20px;
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            border: none;
            border-radius: 30px;
            color: white;
            cursor: pointer;
        }

        .lives {
            display: flex;
            gap: 5px;
        }

        .life {
            font-size: 24px;
        }

        .life.lost {
            opacity: 0.3;
        }
    </style>
</head>
<body>
    <a href="index.html" class="nav-btn">ğŸ  í™ˆ</a>

    <div class="game-header">
        <div class="stat-box">â­ <span id="score">0</span>ì </div>
        <div class="stat-box">
            <div class="lives" id="lives">
                <span class="life">â¤ï¸</span>
                <span class="life">â¤ï¸</span>
                <span class="life">â¤ï¸</span>
            </div>
        </div>
    </div>

    <div class="game-area">
        <div class="waiting-area">
            <div class="waiting-label">ë‹¤ìŒ ì†ë‹˜ì´ì—ìš”!</div>
            <div class="current-person" id="currentPerson">ğŸ‘©</div>
            <div class="person-type woman" id="personType">ì—¬ì</div>
        </div>

        <div class="bathhouse">
            <div class="bath women" onclick="enterBath('women')">
                <div class="bath-label">ì—¬íƒ•</div>
                <div class="bath-icon">â™€ï¸</div>
                <div class="bath-door"></div>
            </div>
            <div class="bath men" onclick="enterBath('men')">
                <div class="bath-label">ë‚¨íƒ•</div>
                <div class="bath-icon">â™‚ï¸</div>
                <div class="bath-door"></div>
            </div>
        </div>
    </div>

    <div class="guard-area">
        <div class="guard">ğŸ‘¨â€ğŸ¦³</div>
        <div class="guard-speech" id="guardSpeech">ì–´ì„œì˜¤ì„¸ìš”~</div>
    </div>

    <div class="result-popup" id="resultPopup">
        <div class="result-icon" id="resultIcon">âœ…</div>
        <div class="result-text" id="resultText">ì˜í–ˆì–´ìš”!</div>
    </div>

    <div class="start-screen" id="startScreen">
        <div class="title">ğŸ› ëª©ìš•íƒ•</div>
        <div class="subtitle">ì†ë‹˜ì„ ì˜¬ë°”ë¥¸ ê³³ìœ¼ë¡œ ì•ˆë‚´í•´ìš”!</div>
        <div class="preview">ğŸ‘©â¡ï¸ğŸšº ğŸ‘¨â¡ï¸ğŸš¹</div>
        <button class="start-btn" onclick="startGame()">ì‹œì‘!</button>
        <div class="instructions">
            <span class="pink">ğŸ‘© ì—¬ì</span>ëŠ” <span class="pink">ì—¬íƒ•</span>ìœ¼ë¡œ!<br>
            <span class="blue">ğŸ‘¨ ë‚¨ì</span>ëŠ” <span class="blue">ë‚¨íƒ•</span>ìœ¼ë¡œ!<br><br>
            ì˜ëª» ë³´ë‚´ë©´ ì•„ì €ì”¨ê°€ í˜¼ë‚´ìš”! ğŸ˜ 
        </div>
    </div>

    <div class="game-over-screen" id="gameOverScreen">
        <div class="game-over-icon">ğŸ˜µ</div>
        <div class="game-over-title">ê²Œì„ ì˜¤ë²„!</div>
        <div class="game-over-score">ì ìˆ˜: <span id="finalScore">0</span></div>
        <button class="restart-btn" onclick="restartGame()">ë‹¤ì‹œ í•˜ê¸°</button>
    </div>

    <script>
        const women = ['ğŸ‘©', 'ğŸ‘§', 'ğŸ‘µ', 'ğŸ‘©â€ğŸ¦°', 'ğŸ‘©â€ğŸ¦±', 'ğŸ‘±â€â™€ï¸', 'ğŸ‘©â€ğŸ¦³', 'ğŸ§•'];
        const men = ['ğŸ‘¨', 'ğŸ‘¦', 'ğŸ‘´', 'ğŸ‘¨â€ğŸ¦°', 'ğŸ‘¨â€ğŸ¦±', 'ğŸ‘±â€â™‚ï¸', 'ğŸ‘¨â€ğŸ¦³', 'ğŸ§”'];

        const correctMessages = [
            'ì˜í–ˆì–´ìš”! ğŸ‘',
            'ì •í™•í•´ìš”! âœ¨',
            'í›Œë¥­í•´ìš”! ğŸ‰',
            'ë°”ë¡œ ê·¸ê±°ì˜ˆìš”! ğŸ‘',
            'ì™„ë²½í•´ìš”! â­'
        ];

        const wrongMessages = [
            'ê±°ê¸° ì•„ë‹ˆì—ìš”!! ğŸ˜ ',
            'ë­í•˜ëŠ” ê±°ì˜ˆìš”?! ğŸ˜¡',
            'ì˜ëª» ë“¤ì–´ê°”ì–´ìš”!! ğŸš«',
            'ì•ˆ ë¼ìš”!! âŒ',
            'ì–´ë””ë¡œ ê°€ëŠ” ê±°ì˜ˆìš”?! ğŸ˜¤'
        ];

        let score = 0;
        let lives = 3;
        let currentPersonGender = '';
        let gameRunning = false;

        function nextPerson() {
            // Random gender
            const isWoman = Math.random() < 0.5;
            currentPersonGender = isWoman ? 'woman' : 'man';

            const personList = isWoman ? women : men;
            const emoji = personList[Math.floor(Math.random() * personList.length)];

            document.getElementById('currentPerson').textContent = emoji;
            document.getElementById('personType').textContent = isWoman ? 'ì—¬ì' : 'ë‚¨ì';
            document.getElementById('personType').className = 'person-type ' + currentPersonGender;

            document.getElementById('guardSpeech').textContent = 'ì–´ì„œì˜¤ì„¸ìš”~';
        }

        function enterBath(bath) {
            if (!gameRunning) return;

            const isCorrect = (bath === 'women' && currentPersonGender === 'woman') ||
                             (bath === 'men' && currentPersonGender === 'man');

            if (isCorrect) {
                // Correct!
                score += 10;
                showResult(true);
                document.getElementById('guardSpeech').textContent =
                    correctMessages[Math.floor(Math.random() * correctMessages.length)];
            } else {
                // Wrong!
                lives--;
                updateLives();
                showResult(false);
                document.getElementById('guardSpeech').textContent =
                    wrongMessages[Math.floor(Math.random() * wrongMessages.length)];

                if (lives <= 0) {
                    setTimeout(() => gameOver(), 1000);
                    return;
                }
            }

            updateUI();

            setTimeout(() => {
                hideResult();
                nextPerson();
            }, 1000);
        }

        function showResult(correct) {
            const popup = document.getElementById('resultPopup');
            popup.className = 'result-popup show ' + (correct ? 'correct' : 'wrong');
            document.getElementById('resultIcon').textContent = correct ? 'âœ…' : 'âŒ';
            document.getElementById('resultText').textContent = correct ? 'ì˜í–ˆì–´ìš”!' : 'í‹€ë ¸ì–´ìš”!';
        }

        function hideResult() {
            document.getElementById('resultPopup').classList.remove('show');
        }

        function updateLives() {
            const livesEl = document.querySelectorAll('.life');
            livesEl.forEach((el, i) => {
                el.classList.toggle('lost', i >= lives);
            });
        }

        function updateUI() {
            document.getElementById('score').textContent = score;
        }

        function gameOver() {
            gameRunning = false;
            document.getElementById('finalScore').textContent = score;
            document.getElementById('gameOverScreen').classList.add('show');
        }

        function startGame() {
            document.getElementById('startScreen').classList.add('hide');
            initGame();
        }

        function restartGame() {
            document.getElementById('gameOverScreen').classList.remove('show');
            initGame();
        }

        function initGame() {
            score = 0;
            lives = 3;
            gameRunning = true;
            updateLives();
            updateUI();
            nextPerson();
        }
    </script>
</body>
</html>
